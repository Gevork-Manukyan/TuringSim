$nodeSize: 100px;
$radius: 100%;
$plusBtnTransition: transform 0.5s ease;;
$plusButtonSize: 50px;
$transition-distance: calc($nodeSize / 1.2);
$hover-shift: $nodeSize - $transition-distance;
$hover-transition: transform 0.3s ease;

@mixin settingBtnClicked($direction) {
    @if $direction == "up" {
        transform: translate(-50%, -$transition-distance);

        &:hover {
            transform: translate(-50%, -$transition-distance - $hover-shift);
        }
    }
    @else if $direction == "right" {
        transform: translate(calc($transition-distance - $plusButtonSize), -50%);
            
        &:hover {
            transform: translate(calc($transition-distance - $plusButtonSize) + $hover-shift, -50%);
        }
    }
    @else if $direction == "down" {
        transform: translate(-50%, calc($transition-distance - $plusButtonSize));
            
        &:hover {
            transform: translate(-50%, calc($transition-distance - $plusButtonSize) + $hover-shift);
        }
    }
    @else if $direction == "left" {
        transform: translate(-$transition-distance, -50%);
            
        &:hover {
            transform: translate(-$transition-distance - $hover-shift, -50%);
        }
    }
}

.Node {
    position: absolute;
    user-select: none;
    border-radius: $radius;

    &:hover {
        
    }

    &--dragging {
        box-shadow: -1px 0 15px 0 rgba(34, 33, 81, 0.01),
        0px 15px 15px 0 rgba(34, 33, 81, 0.25);
        transition: box-shadow 300ms ease;
    }

    &--clicked {
        
    }

    &__content {
        width: $nodeSize;
        height: $nodeSize;
        position: relative;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        background-color: white;
        border: solid 1px black;
        border-radius: $radius;
        border-width: 3px;
        cursor: pointer;
        z-index: 10;
        box-sizing: border-box;
    }

    &__renameInput {
        
    }

    &__settingBtn {
        $position: calc($nodeSize / 2);
        
        position: absolute;
        left: $position;
        top: $position;
        display: flex;
        align-items: center;
        justify-content: center;
        
        line-height: 0px;
        height: $plusButtonSize;
        width: $plusButtonSize;
        border: solid black 1px;
        border-radius: 100%;
        transform: translate(-50%, -50%);
        transition: $plusBtnTransition;
        box-sizing: border-box;
        cursor: pointer;    
        z-index: 0;

        &:hover {
            background-color: rgba(211, 211, 211, 0.692);
            border: solid 2px;
        }
    }

    &--clicked &__settingBtn {
        transition: $plusBtnTransition;

        &--1 {
            @include settingBtnClicked("up")
        }

        &--2 {
            @include settingBtnClicked("right")
        }

        &--3 {
            @include settingBtnClicked("down")
        }

        &--4 {
            @include settingBtnClicked("left")
        }

        &:hover {
            transition: $hover-transition;
        }
    }  

    &--settings &__settingBtn {
        transition: $plusBtnTransition;

        &--5 {
            @include settingBtnClicked("up")
        }

        &--6 {
            @include settingBtnClicked("right")
        }

        &--7 {
            @include settingBtnClicked("down")
        }

        &--8 {
            @include settingBtnClicked("left")
        }

        &:hover {
            transition: $hover-transition;
        }
    }
}